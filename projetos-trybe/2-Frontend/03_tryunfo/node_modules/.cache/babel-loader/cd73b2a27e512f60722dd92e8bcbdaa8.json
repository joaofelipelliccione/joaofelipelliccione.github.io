{"ast":null,"code":"var _jsxFileName = \"/home/joaofelipe/joaofelipelliccione.github.io/projetos-trybe/2-Frontend/03_tryunfo/src/App.js\";\nimport React from 'react';\nimport Header from './components/Header';\nimport Form from './components/Form';\nimport Filters from './components/Filters';\nimport Card from './components/Card';\nimport Footer from './components/Footer';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst INITIAL_STATE = {\n  cardName: '',\n  cardDescription: '',\n  cardAttr1: '0',\n  cardAttr2: '0',\n  cardAttr3: '0',\n  cardImage: '',\n  cardRare: 'Normal',\n  cardTrunfo: false,\n  hasTrunfo: false,\n  isSaveButtonDisabled: true,\n  savedCards: [],\n  searchBoxData: ''\n};\n\nclass App extends React.Component {\n  constructor() {\n    super();\n\n    this.verifyAllInputs = () => {\n      // Função que habilita o botão 'salvar', quando todos os campos do formulário forem preenchidos corretamente. Será chamada dentro da função onInputChange(), que é chamada dentro de escutadores do tipo 'onChange'.\n      const {\n        cardName,\n        cardDescription,\n        cardAttr1,\n        cardAttr2,\n        cardAttr3,\n        cardImage,\n        cardRare\n      } = this.state;\n      const attrSum = Number(cardAttr1) + Number(cardAttr2) + Number(cardAttr3);\n      const attrSumMaxValue = 210;\n      const attrMin = 0;\n      const attrMax = 90;\n\n      if (cardName.length >= 1 && cardDescription.length >= 1 && cardImage.length >= 1 && cardRare.length >= 1 && Number(cardAttr1) >= attrMin && Number(cardAttr1) <= attrMax && Number(cardAttr2) >= attrMin && Number(cardAttr2) <= attrMax && Number(cardAttr3) >= attrMin && Number(cardAttr3) <= attrMax && attrSum <= attrSumMaxValue) {\n        return this.setState({\n          isSaveButtonDisabled: false\n        });\n      }\n\n      return this.setState({\n        isSaveButtonDisabled: true\n      });\n    };\n\n    this.onInputChange = ({\n      target\n    }) => {\n      // Função que altera o valor de qualquer estado, sempre que um input for realizado no elemento onde ela está sendo chamada. || OBS: Para que tal função funcione, os 'name' de cada um dos elementos do Forms devem ser iguais ao nome dos estados.\n      const {\n        name\n      } = target;\n      const formElementValue = target.type === 'checkbox' ? target.checked : target.value;\n      this.setState({\n        // Aprendi a utilizar o 2° parâmetro da setState() na matéria \"Ciclo de Vida dos Componentes\", ainda não dada. Em suma, assim que o estado for atualizado, a callback passada como argumento, será rodada.\n        [name]: formElementValue\n      }, this.verifyAllInputs);\n    };\n\n    this.onSaveButtonClick = () => {\n      // Função que altera o estado 'hasTrunfo', de false para true, quando uma carta do tipo trunfo é salva.\n      // Função que salva as informações de uma respectiva carta, como um objeto dentro do array contido no estado 'savedCards'.\n      // Função que limpa os campos do formulário e o preview da carta.\n      const {\n        cardName,\n        cardDescription,\n        cardAttr1,\n        cardAttr2,\n        cardAttr3,\n        cardImage,\n        cardRare,\n        cardTrunfo\n      } = this.state;\n      const savedCardInfo = {\n        cardName,\n        cardDescription,\n        cardAttr1,\n        cardAttr2,\n        cardAttr3,\n        cardImage,\n        cardRare,\n        cardTrunfo\n      };\n\n      if (cardTrunfo === true) {\n        this.setState({\n          hasTrunfo: true\n        });\n      }\n\n      this.setState(prevState => ({\n        savedCards: [...prevState.savedCards, savedCardInfo],\n        cardName: '',\n        cardDescription: '',\n        cardAttr1: '0',\n        cardAttr2: '0',\n        cardAttr3: '0',\n        cardImage: '',\n        cardRare: 'Normal',\n        cardTrunfo: false,\n        isSaveButtonDisabled: true\n      }));\n    };\n\n    this.deleteDisplayedCard = ({\n      target\n    }) => {\n      // Função que possibilita a exclusão de uma carta criada anteriormente.\n      const {\n        savedCards\n      } = this.state;\n      const displayedCardId = target.id;\n      const toBeDel = savedCards.find(cardInfo => cardInfo.cardName === displayedCardId); // Retorna o objeto com as informações da carta recém-excluída.\n\n      const newSC = savedCards.filter(cardInfo => cardInfo.cardName !== displayedCardId); // Retorna o array contido no estado 'savedCards', porém sem o objeto referente à carta que foi excluída.\n\n      if (toBeDel.cardTrunfo === true) {\n        this.setState({\n          savedCards: newSC,\n          hasTrunfo: false\n        });\n      }\n\n      this.setState({\n        savedCards: newSC\n      }); // OBS: Caso a carta 'Super Trunfo' seja excluída, além de atualizar o estado 'savedCards' com o novo array de objetos 'newSC', o estado 'hasTrunfo' voltará a ser igual a False. Isso é importante para que o usuário seja capaz de criar uma nova carta do tipo 'Super Trunfo'.\n    };\n\n    this.filtersFunction = () => {\n      // Tal função sempre retornará um array de objetos, que acumula informações de cada uma das cartas. Por outro lado, dependendo dos filtros aplicados pelo usuário, o respectivo array apresentará uma quantidade reduzida de objetos.\n      const {\n        savedCards,\n        searchBoxData\n      } = this.state;\n\n      if (searchBoxData.length >= 1) {\n        // Usuário pesquisou por uma determinada carta na searchbox.\n        return savedCards.filter(cardInfo => cardInfo.cardName.includes(searchBoxData));\n      }\n\n      return savedCards;\n    };\n\n    this.state = INITIAL_STATE;\n  }\n\n  render() {\n    const {\n      cardName,\n      cardDescription,\n      cardAttr1,\n      cardAttr2,\n      cardAttr3,\n      cardImage,\n      cardRare,\n      cardTrunfo,\n      hasTrunfo,\n      isSaveButtonDisabled,\n      searchBoxData\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        children: [/*#__PURE__*/_jsxDEV(\"section\", {\n          id: \"cardDevelopmentContainer\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"formContainer\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Estruturar Nova Carta\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form, {\n              cardName: cardName,\n              cardDescription: cardDescription,\n              cardAttr1: cardAttr1,\n              cardAttr2: cardAttr2,\n              cardAttr3: cardAttr3,\n              cardImage: cardImage,\n              cardRare: cardRare,\n              cardTrunfo: cardTrunfo,\n              hasTrunfo: hasTrunfo,\n              isSaveButtonDisabled: isSaveButtonDisabled,\n              onInputChange: this.onInputChange,\n              onCardTrunfoClick: this.onCardTrunfoClick,\n              onSaveButtonClick: this.onSaveButtonClick\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"cardPreviewContainer\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Preview da Nova Carta\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Card, {\n              cardName: cardName,\n              cardDescription: cardDescription,\n              cardAttr1: cardAttr1,\n              cardAttr2: cardAttr2,\n              cardAttr3: cardAttr3,\n              cardImage: cardImage,\n              cardRare: cardRare,\n              cardTrunfo: cardTrunfo\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n          id: \"savedCardsContainer\",\n          children: [/*#__PURE__*/_jsxDEV(Filters, {\n            searchBoxData: searchBoxData,\n            onInputChange: this.onInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"cardsDisplay\",\n            children: searchBoxData !== undefined && this.filtersFunction().map(cardInfo => /*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"eachDisplayedCard\",\n              children: [/*#__PURE__*/_jsxDEV(Card, {\n                cardName: cardInfo.cardName,\n                cardDescription: cardInfo.cardDescription,\n                cardAttr1: cardInfo.cardAttr1,\n                cardAttr2: cardInfo.cardAttr2,\n                cardAttr3: cardInfo.cardAttr3,\n                cardImage: cardInfo.cardImage,\n                cardRare: cardInfo.cardRare,\n                cardTrunfo: cardInfo.cardTrunfo\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                id: cardInfo.cardName,\n                \"data-testid\": \"delete-button\",\n                type: \"button\",\n                onClick: this.deleteDisplayedCard,\n                children: \"Excluir\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 19\n              }, this)]\n            }, cardInfo.cardName, true, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/joaofelipe/joaofelipelliccione.github.io/projetos-trybe/2-Frontend/03_tryunfo/src/App.js"],"names":["React","Header","Form","Filters","Card","Footer","INITIAL_STATE","cardName","cardDescription","cardAttr1","cardAttr2","cardAttr3","cardImage","cardRare","cardTrunfo","hasTrunfo","isSaveButtonDisabled","savedCards","searchBoxData","App","Component","constructor","verifyAllInputs","state","attrSum","Number","attrSumMaxValue","attrMin","attrMax","length","setState","onInputChange","target","name","formElementValue","type","checked","value","onSaveButtonClick","savedCardInfo","prevState","deleteDisplayedCard","displayedCardId","id","toBeDel","find","cardInfo","newSC","filter","filtersFunction","includes","render","onCardTrunfoClick","undefined","map"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Header from './components/Header';\nimport Form from './components/Form';\nimport Filters from './components/Filters';\nimport Card from './components/Card';\nimport Footer from './components/Footer';\nimport './App.css';\n\nconst INITIAL_STATE = {\n  cardName: '',\n  cardDescription: '',\n  cardAttr1: '0',\n  cardAttr2: '0',\n  cardAttr3: '0',\n  cardImage: '',\n  cardRare: 'Normal',\n  cardTrunfo: false,\n  hasTrunfo: false,\n  isSaveButtonDisabled: true,\n  savedCards: [],\n  searchBoxData: '',\n};\n\nclass App extends React.Component {\n  constructor() {\n    super();\n    this.state = INITIAL_STATE;\n  }\n\n  verifyAllInputs = () => { // Função que habilita o botão 'salvar', quando todos os campos do formulário forem preenchidos corretamente. Será chamada dentro da função onInputChange(), que é chamada dentro de escutadores do tipo 'onChange'.\n    const {\n      cardName,\n      cardDescription,\n      cardAttr1,\n      cardAttr2,\n      cardAttr3,\n      cardImage,\n      cardRare,\n    } = this.state;\n\n    const attrSum = Number(cardAttr1) + Number(cardAttr2) + Number(cardAttr3);\n    const attrSumMaxValue = 210;\n    const attrMin = 0;\n    const attrMax = 90;\n\n    if ((cardName.length >= 1)\n    && (cardDescription.length >= 1)\n    && (cardImage.length >= 1)\n    && (cardRare.length >= 1)\n    && (Number(cardAttr1) >= attrMin && Number(cardAttr1) <= attrMax)\n    && (Number(cardAttr2) >= attrMin && Number(cardAttr2) <= attrMax)\n    && (Number(cardAttr3) >= attrMin && Number(cardAttr3) <= attrMax)\n    && (attrSum <= attrSumMaxValue)) {\n      return this.setState({\n        isSaveButtonDisabled: false,\n      });\n    }\n    return this.setState({\n      isSaveButtonDisabled: true,\n    });\n  }\n\n  onInputChange = ({ target }) => { // Função que altera o valor de qualquer estado, sempre que um input for realizado no elemento onde ela está sendo chamada. || OBS: Para que tal função funcione, os 'name' de cada um dos elementos do Forms devem ser iguais ao nome dos estados.\n    const { name } = target;\n    const formElementValue = target.type === 'checkbox' ? target.checked : target.value;\n\n    this.setState({ // Aprendi a utilizar o 2° parâmetro da setState() na matéria \"Ciclo de Vida dos Componentes\", ainda não dada. Em suma, assim que o estado for atualizado, a callback passada como argumento, será rodada.\n      [name]: formElementValue,\n    }, this.verifyAllInputs);\n  }\n\n  onSaveButtonClick = () => {\n    // Função que altera o estado 'hasTrunfo', de false para true, quando uma carta do tipo trunfo é salva.\n    // Função que salva as informações de uma respectiva carta, como um objeto dentro do array contido no estado 'savedCards'.\n    // Função que limpa os campos do formulário e o preview da carta.\n    const {\n      cardName,\n      cardDescription,\n      cardAttr1,\n      cardAttr2,\n      cardAttr3,\n      cardImage,\n      cardRare,\n      cardTrunfo,\n    } = this.state;\n\n    const savedCardInfo = {\n      cardName,\n      cardDescription,\n      cardAttr1,\n      cardAttr2,\n      cardAttr3,\n      cardImage,\n      cardRare,\n      cardTrunfo,\n    };\n\n    if (cardTrunfo === true) {\n      this.setState({ hasTrunfo: true });\n    }\n\n    this.setState((prevState) => ({\n      savedCards: [...prevState.savedCards, savedCardInfo],\n      cardName: '',\n      cardDescription: '',\n      cardAttr1: '0',\n      cardAttr2: '0',\n      cardAttr3: '0',\n      cardImage: '',\n      cardRare: 'Normal',\n      cardTrunfo: false,\n      isSaveButtonDisabled: true,\n    }));\n  }\n\n  deleteDisplayedCard = ({ target }) => { // Função que possibilita a exclusão de uma carta criada anteriormente.\n    const { savedCards } = this.state;\n    const displayedCardId = target.id;\n\n    const toBeDel = savedCards.find((cardInfo) => cardInfo.cardName === displayedCardId); // Retorna o objeto com as informações da carta recém-excluída.\n    const newSC = savedCards.filter((cardInfo) => cardInfo.cardName !== displayedCardId); // Retorna o array contido no estado 'savedCards', porém sem o objeto referente à carta que foi excluída.\n\n    if (toBeDel.cardTrunfo === true) {\n      this.setState({\n        savedCards: newSC,\n        hasTrunfo: false,\n      });\n    }\n    this.setState({ savedCards: newSC });\n    // OBS: Caso a carta 'Super Trunfo' seja excluída, além de atualizar o estado 'savedCards' com o novo array de objetos 'newSC', o estado 'hasTrunfo' voltará a ser igual a False. Isso é importante para que o usuário seja capaz de criar uma nova carta do tipo 'Super Trunfo'.\n  }\n\n  filtersFunction = () => { // Tal função sempre retornará um array de objetos, que acumula informações de cada uma das cartas. Por outro lado, dependendo dos filtros aplicados pelo usuário, o respectivo array apresentará uma quantidade reduzida de objetos.\n    const { savedCards, searchBoxData } = this.state;\n\n    if (searchBoxData.length >= 1) { // Usuário pesquisou por uma determinada carta na searchbox.\n      return savedCards.filter((cardInfo) => cardInfo.cardName.includes(searchBoxData));\n    }\n    return savedCards;\n  }\n\n  render() {\n    const {\n      cardName,\n      cardDescription,\n      cardAttr1,\n      cardAttr2,\n      cardAttr3,\n      cardImage,\n      cardRare,\n      cardTrunfo,\n      hasTrunfo,\n      isSaveButtonDisabled,\n      searchBoxData,\n    } = this.state;\n\n    return (\n      <div className=\"app\">\n        <Header />\n        <main>\n          <section id=\"cardDevelopmentContainer\">\n            <div id=\"formContainer\">\n              <h3>Estruturar Nova Carta</h3>\n              <Form\n                cardName={ cardName } cardDescription={ cardDescription }\n                cardAttr1={ cardAttr1 } cardAttr2={ cardAttr2 }\n                cardAttr3={ cardAttr3 } cardImage={ cardImage }\n                cardRare={ cardRare } cardTrunfo={ cardTrunfo }\n                hasTrunfo={ hasTrunfo } isSaveButtonDisabled={ isSaveButtonDisabled }\n                onInputChange={ this.onInputChange } onCardTrunfoClick={ this.onCardTrunfoClick }\n                onSaveButtonClick={ this.onSaveButtonClick }\n              />\n            </div>\n            <div id=\"cardPreviewContainer\">\n              <h3>Preview da Nova Carta</h3>\n              <Card\n                cardName={ cardName } cardDescription={ cardDescription }\n                cardAttr1={ cardAttr1 } cardAttr2={ cardAttr2 }\n                cardAttr3={ cardAttr3 } cardImage={ cardImage }\n                cardRare={ cardRare } cardTrunfo={ cardTrunfo }\n              />\n            </div>\n          </section>\n          <section id=\"savedCardsContainer\">\n            <Filters \n              searchBoxData={ searchBoxData } onInputChange={ this.onInputChange }\n            />\n            <div id=\"cardsDisplay\">\n              { searchBoxData !== undefined \n                && this.filtersFunction().map((cardInfo) => (\n                <div key={ cardInfo.cardName } id=\"eachDisplayedCard\">\n                  <Card\n                    cardName={ cardInfo.cardName } cardDescription={ cardInfo.cardDescription }\n                    cardAttr1={ cardInfo.cardAttr1 } cardAttr2={ cardInfo.cardAttr2 }\n                    cardAttr3={ cardInfo.cardAttr3 } cardImage={ cardInfo.cardImage }\n                    cardRare={ cardInfo.cardRare } cardTrunfo={ cardInfo.cardTrunfo }\n                  />\n                  <button\n                    id={ cardInfo.cardName }\n                    data-testid=\"delete-button\"\n                    type=\"button\"\n                    onClick={ this.deleteDisplayedCard }\n                  >\n                    Excluir\n                  </button>\n                </div>\n              ))}\n            </div>\n          </section>\n        </main>\n          <Footer />\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}