{"ast":null,"code":"var _jsxFileName = \"/home/joaofelipe/joaofelipelliccione.github.io/projetos-trybe/2-Frontend/05_frontend-online-store-individual/src/components/Review.jsx\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nclass Review extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.setReview = () => {\n      const {\n        productId\n      } = this.props;\n      const reviews = JSON.parse(localStorage.getItem(productId));\n\n      if (Array.isArray(reviews)) {\n        this.setState({\n          reviews\n        });\n      }\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n    };\n\n    this.handleChange = ({\n      target\n    }) => {\n      // Função que altera o estado 'name', 'comment' e/ou 'reviewStar' no momento que o usuário realiza alguma modificação. Será chamada nos onChanges de #reviewForm.\n      const {\n        name,\n        value\n      } = target;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.sendReview = () => {\n      const {\n        comment,\n        reviewStar,\n        name\n      } = this.state;\n      const objComment = {\n        comment,\n        reviewStar,\n        name\n      };\n      this.setState(prevState => ({\n        reviews: [...prevState.reviews, objComment],\n        comment: '',\n        name: ''\n      }));\n    };\n\n    this.state = {\n      name: '',\n      comment: '',\n      reviewStar: '',\n      reviews: []\n    };\n  }\n\n  componentDidMount() {\n    this.setReview();\n  }\n\n  componentDidUpdate() {\n    const {\n      productId\n    } = this.props;\n    const {\n      reviews\n    } = this.state;\n    localStorage.setItem(productId, JSON.stringify(reviews));\n  }\n\n  render() {\n    const {\n      name,\n      comment,\n      reviews\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"reviewFormContainer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      id: \"reviewForm\",\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"name\",\n      placeholder: \"Nome\",\n      value: name,\n      onChange: this.handleChange,\n      id: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }\n    }, \"1\", /*#__PURE__*/React.createElement(\"input\", {\n      id: \"1\",\n      type: \"radio\",\n      name: \"reviewStar\",\n      value: \"1\",\n      onClick: this.handleChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }\n    }, \"2\", /*#__PURE__*/React.createElement(\"input\", {\n      id: \"2\",\n      type: \"radio\",\n      name: \"reviewStar\",\n      value: \"2\",\n      onClick: this.handleChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 11\n      }\n    }, \"3\", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      name: \"reviewStar\",\n      required: true,\n      value: \"3\",\n      onClick: this.handleChange,\n      id: \"3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 11\n      }\n    }, \"4\", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      name: \"reviewStar\",\n      required: true,\n      value: \"4\",\n      onClick: this.handleChange,\n      id: \"4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 11\n      }\n    }, \"5\", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      name: \"reviewStar\",\n      required: true,\n      value: \"5\",\n      onClick: this.handleChange,\n      id: \"5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"textarea\", {\n      \"data-testid\": \"product-detail-evaluation\",\n      rows: \"20\",\n      collumns: \"40\",\n      placeholder: \"Mensagem (opcional)\",\n      onChange: this.handleChange,\n      name: \"comment\",\n      value: comment,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      onClick: this.sendReview,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 11\n      }\n    }, \"Avaliar\")), reviews.length > 0 && reviews.map(review => /*#__PURE__*/React.createElement(\"div\", {\n      key: review.comment,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 13\n      }\n    }, review.name), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 13\n      }\n    }, `Nota: ${review.reviewStar}`), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 13\n      }\n    }, review.comment))));\n  }\n\n}\n\nReview.propTypes = {\n  productId: PropTypes.string.isRequired\n};\nexport default Review;","map":{"version":3,"sources":["/home/joaofelipe/joaofelipelliccione.github.io/projetos-trybe/2-Frontend/05_frontend-online-store-individual/src/components/Review.jsx"],"names":["React","PropTypes","Review","Component","constructor","props","setReview","productId","reviews","JSON","parse","localStorage","getItem","Array","isArray","setState","handleSubmit","e","preventDefault","handleChange","target","name","value","sendReview","comment","reviewStar","state","objComment","prevState","componentDidMount","componentDidUpdate","setItem","stringify","render","length","map","review","propTypes","string","isRequired"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nclass Review extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      name: '',\n      comment: '',\n      reviewStar: '',\n      reviews: [],\n    };\n  }\n\n  componentDidMount() {\n    this.setReview();\n  }\n\n  componentDidUpdate() {\n    const { productId } = this.props;\n    const { reviews } = this.state;\n    localStorage.setItem(productId, JSON.stringify(reviews));\n  }\n\n  setReview = () => {\n    const { productId } = this.props;\n    const reviews = JSON.parse(localStorage.getItem(productId));\n    if (Array.isArray(reviews)) {\n      this.setState({ reviews });\n    }\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n  }\n\n  handleChange = ({ target }) => { // Função que altera o estado 'name', 'comment' e/ou 'reviewStar' no momento que o usuário realiza alguma modificação. Será chamada nos onChanges de #reviewForm.\n    const { name, value } = target;\n\n    this.setState({\n      [name]: value,\n    });\n  }\n\n  sendReview = () => {\n    const { comment, reviewStar, name } = this.state;\n    const objComment = {\n      comment,\n      reviewStar,\n      name,\n    };\n    this.setState((prevState) => ({\n      reviews: [...prevState.reviews, objComment],\n      comment: '',\n      name: '',\n    }));\n  }\n\n  render() {\n    const { name, comment, reviews } = this.state;\n\n    return (\n      <div id=\"reviewFormContainer\">\n        <form id=\"reviewForm\" onSubmit={ this.handleSubmit }>\n          <label htmlFor=\"name\">\n            <input\n              type=\"text\"\n              name=\"name\"\n              placeholder=\"Nome\"\n              value={ name }\n              onChange={ this.handleChange }\n              id=\"name\"\n            />\n          </label>\n          <label htmlFor=\"1\">\n            1\n            <input\n              id=\"1\"\n              type=\"radio\"\n              name=\"reviewStar\"\n              value=\"1\"\n              onClick={ this.handleChange }\n              required\n            />\n          </label>\n          <label htmlFor=\"2\">\n            2\n            <input\n              id=\"2\"\n              type=\"radio\"\n              name=\"reviewStar\"\n              value=\"2\"\n              onClick={ this.handleChange }\n              required\n            />\n          </label>\n          <label htmlFor=\"3\">\n            3\n            <input\n              type=\"radio\"\n              name=\"reviewStar\"\n              required\n              value=\"3\"\n              onClick={ this.handleChange }\n              id=\"3\"\n            />\n          </label>\n          <label htmlFor=\"4\">\n            4\n            <input\n              type=\"radio\"\n              name=\"reviewStar\"\n              required\n              value=\"4\"\n              onClick={ this.handleChange }\n              id=\"4\"\n            />\n          </label>\n          <label htmlFor=\"5\">\n            5\n            <input\n              type=\"radio\"\n              name=\"reviewStar\"\n              required\n              value=\"5\"\n              onClick={ this.handleChange }\n              id=\"5\"\n            />\n          </label>\n          <textarea\n            data-testid=\"product-detail-evaluation\"\n            rows=\"20\"\n            collumns=\"40\"\n            placeholder=\"Mensagem (opcional)\"\n            onChange={ this.handleChange }\n            name=\"comment\"\n            value={ comment }\n          />\n          <button type=\"submit\" onClick={ this.sendReview }>Avaliar</button>\n        </form>\n        {reviews.length > 0\n        && reviews.map((review) => (\n          <div key={ review.comment }>\n            <h2>{ review.name }</h2>\n            <h3>{ `Nota: ${review.reviewStar}` }</h3>\n            <p>{ review.comment }</p>\n          </div>\n        ))}\n      </div>\n    );\n  }\n}\n\nReview.propTypes = {\n  productId: PropTypes.string.isRequired,\n};\n\nexport default Review;\n"]},"metadata":{},"sourceType":"module"}