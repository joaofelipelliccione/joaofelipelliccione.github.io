{"ast":null,"code":"var _jsxFileName = \"/home/joaofelipe/\\xC1rea de Trabalho/frontend-online-store-individual/src/pages/Cart.jsx\";\nimport React from 'react';\nimport CardsInCart from '../components/CardsInCart';\n\nclass Cart extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.insertItensInTheCart = () => {\n      const cartItems = JSON.parse(localStorage.getItem('userCart'));\n\n      if (Array.isArray(shopCartItens)) {\n        this.setState({\n          shopCartItens\n        });\n      }\n    };\n\n    this.attLocalStorage = () => {\n      const {\n        shopCartItens\n      } = this.state;\n      localStorage.setItem('userCart', JSON.stringify(shopCartItens));\n    };\n\n    this.deleteCartItem = ({\n      target\n    }) => {\n      const {\n        shopCartItens\n      } = this.state;\n      const findIndex = shopCartItens.findIndex(index => index.id === target.id);\n      console.log(findIndex);\n      this.setState({\n        shopCartItens: shopCartItens.filter((_item, i) => i !== findIndex)\n      });\n    };\n\n    this.attPrices = price => {\n      this.setState(prevState => ({\n        total: prevState.total + price\n      }));\n    };\n\n    this.subPrices = price => {\n      this.setState(prevState => ({\n        total: prevState.total - price\n      }));\n    };\n\n    this.state = {\n      cartItems: [],\n      total: 0\n    };\n  }\n\n  componentDidMount() {\n    this.insertItensInTheCart();\n  }\n\n  componentDidUpdate() {\n    this.attLocalStorage();\n  }\n\n  render() {\n    const {\n      shopCartItens,\n      total\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }\n    }, shopCartItens.length), shopCartItens.length === 0 ? /*#__PURE__*/React.createElement(\"span\", {\n      \"data-testid\": \"shopping-cart-empty-message\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }\n    }, \"Seu carrinho est\\xE1 vazio\") : shopCartItens.map(cartItem => /*#__PURE__*/React.createElement(\"div\", {\n      key: cartItem.title,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(CardsInCart, {\n      title: cartItem.title,\n      thumbnail: cartItem.thumbnail,\n      price: cartItem.price,\n      id: cartItem.id,\n      deleteCartItem: this.deleteCartItem,\n      attPrices: this.attPrices,\n      subPrices: this.subPrices,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }\n    }, total.toFixed(2)));\n  }\n\n}\n\nexport default Cart;","map":{"version":3,"sources":["/home/joaofelipe/Área de Trabalho/frontend-online-store-individual/src/pages/Cart.jsx"],"names":["React","CardsInCart","Cart","Component","constructor","props","insertItensInTheCart","cartItems","JSON","parse","localStorage","getItem","Array","isArray","shopCartItens","setState","attLocalStorage","state","setItem","stringify","deleteCartItem","target","findIndex","index","id","console","log","filter","_item","i","attPrices","price","prevState","total","subPrices","componentDidMount","componentDidUpdate","render","length","map","cartItem","title","thumbnail","toFixed"],"mappings":"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","sourcesContent":["import React from 'react';\nimport CardsInCart from '../components/CardsInCart';\n\nclass Cart extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      cartItems: [],\n      total: 0,\n    };\n  }\n\n  componentDidMount() {\n    this.insertItensInTheCart();\n  }\n\n  componentDidUpdate() {\n    this.attLocalStorage();\n  }\n\n  insertItensInTheCart = () => {\n    const cartItems = JSON.parse(localStorage.getItem('userCart'));\n    if (Array.isArray(shopCartItens)) {\n      this.setState({ shopCartItens });\n    }\n  }\n\n  attLocalStorage = () => {\n    const { shopCartItens } = this.state;\n    localStorage.setItem('userCart', JSON.stringify(shopCartItens));\n  }\n\n  deleteCartItem = ({ target }) => {\n    const { shopCartItens } = this.state;\n    const findIndex = shopCartItens.findIndex((index) => index.id === target.id);\n    console.log(findIndex);\n    this.setState({\n      shopCartItens: shopCartItens.filter((_item, i) => i !== findIndex),\n    });\n  }\n\n  attPrices = (price) => {\n    this.setState((prevState) => ({\n      total: prevState.total + price,\n    }));\n  }\n\n  subPrices = (price) => {\n    this.setState((prevState) => ({\n      total: prevState.total - price,\n    }));\n  }\n\n  render() {\n    const { shopCartItens, total } = this.state;\n    return (\n      <div>\n        <p>{shopCartItens.length}</p>\n        {shopCartItens.length === 0\n          ? <span data-testid=\"shopping-cart-empty-message\">Seu carrinho está vazio</span>\n          : shopCartItens.map((cartItem) => (\n            <div key={ cartItem.title }>\n              <CardsInCart\n                title={ cartItem.title }\n                thumbnail={ cartItem.thumbnail }\n                price={ cartItem.price }\n                id={ cartItem.id }\n                deleteCartItem={ this.deleteCartItem }\n                attPrices={ this.attPrices }\n                subPrices={ this.subPrices }\n              />\n            </div>\n          ))}\n        <h3>{total.toFixed(2)}</h3>\n      </div>\n    );\n  }\n}\n\nexport default Cart;\n"]},"metadata":{},"sourceType":"module"}