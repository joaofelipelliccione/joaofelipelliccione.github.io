{"ast":null,"code":"var _jsxFileName = \"/home/joaofelipe/\\xC1rea de Trabalho/frontend-online-store-individual/src/pages/Home.jsx\";\nimport React from 'react';\nimport { getProductsFromCategoryAndQuery } from '../services/api';\nimport Card from '../components/Card';\nimport Categories from '../components/Categories';\nimport Header from '../components/Header';\n\nclass Home extends React.Component {\n  constructor() {\n    super();\n\n    this.handleClick = async () => {\n      // Fun칞칚o que realiza a requisi칞칚o para API getProductsFromCategoryAndQuery(), baseada no termo pesquisado. Ser치 chamada no onClick do bot칚o de pesquisar.\n      this.setState({\n        loading: true\n      });\n      const {\n        categoryId,\n        userSearchedItem\n      } = this.state;\n      const response = await getProductsFromCategoryAndQuery(categoryId, userSearchedItem);\n      this.setState({\n        didSearch: true,\n        results: response.results,\n        loading: false\n      });\n    };\n\n    this.onInputChange = ({\n      target\n    }) => {\n      // Fun칞칚o que altera o estado 'userSearchedItem', no momento que o usu치rio realiza uma busca. Ser치 chamada no onChange de #searchBar.\n      const {\n        name\n      } = target;\n      const formElementValue = target.type === 'checkbox' ? target.checked : target.value;\n      this.setState({\n        [name]: formElementValue\n      });\n    };\n\n    this.categoryChecked = async ({\n      target\n    }) => {\n      // Fun칞칚o que realiza a requisi칞칚o para API getProductsFromCategoryAndQuery(), baseada na categoria clicada. Ser치 chamada no onChange de cada radio, de cada categoria.\n      const {\n        userSearchedItem\n      } = this.state;\n      this.setState({\n        loading: true,\n        categoryId: target.id\n      });\n      const response = await getProductsFromCategoryAndQuery(target.id, userSearchedItem);\n      this.setState({\n        results: response.results,\n        didSearch: true,\n        loading: false\n      });\n    };\n\n    this.getLocStUserCart = () => {\n      // Fun칞칚o que capta os itens do carrinho salvos no local storage, sempre que a p치gina Home for montada. Tal fun칞칚o evita que o carrinho do usu치rio seja restaurado.\n      const cartItemsFromLocSt = JSON.parse(localStorage.getItem('userCart'));\n\n      if (Array.isArray(cartItemsFromLocSt)) {\n        // Caso a key \"userCart\", de local storage, N츾O seja um array vazio...\n        this.setState({\n          cartItems: cartItemsFromLocSt\n        });\n      }\n    };\n\n    this.itemsOnCartCalculator = () => {\n      const userCartFromLocSt = JSON.parse(localStorage.getItem(\"userCart\"));\n      const quantitiesArray = userCartFromLocSt.map(microObj => microObj.quantity);\n      const total = quantitiesArray.reduce((result, value) => result + value);\n      localStorage.setItem(\"totalItemsOnCart\", JSON.stringify(total));\n    };\n\n    this.purchaseTVCalculator = () => {\n      const userCartFromLocSt = JSON.parse(localStorage.getItem(\"userCart\"));\n      const totalValuesArray = userCartFromLocSt.map(microObj => microObj.totalValue);\n      const total = totalValuesArray.reduce((result, value) => result + value);\n      localStorage.setItem(\"purchaseTotalValue\", JSON.stringify(total));\n    };\n\n    this.addToCart = ({\n      target\n    }) => {\n      // Fun칞칚o que permite a adi칞칚o de um determinado produto ao carrinho de compras. Ser치 passada para o componente Card, via props, e chamada no OnClick do bot칚o \"Adicionar ao Carrinho\". || OBS: O Id do bot칚o \"Adicionar ao Carrinho\", de cada Card, 칠 igual ao 칤ndice do produto no array results.\n      const {\n        id\n      } = target;\n      const {\n        results,\n        cartItems\n      } = this.state;\n      const objProduct = {\n        productId: results[id].id,\n        title: results[id].title,\n        thumbnail: results[id].thumbnail,\n        price: results[id].price,\n        address: results[id].address,\n        quantity: 1,\n        totalValue: results[id].price\n      };\n\n      if (!cartItems.some(item => item.title === objProduct.title)) {\n        // Condicional que evita a adi칞칚o de 2 ou mais produtos iguais ao carrinho.\n        this.setState(prevState => ({\n          cartItems: [...prevState.cartItems, objProduct]\n        }));\n        localStorage.setItem('userCart', JSON.stringify(cartItems));\n      }\n    };\n\n    this.state = {\n      loading: false,\n      userSearchedItem: '',\n      categoryId: '',\n      results: [],\n      didSearch: false,\n      cartItems: []\n    };\n  }\n\n  componentDidMount() {\n    this.getLocStUserCart();\n  } // componentDidUpdate() {\n  //   this.setLocStUserCart();\n  // }\n\n\n  render() {\n    const {\n      loading,\n      results,\n      didSearch,\n      userSearchedItem,\n      cartItems\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"homepage\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      loading: loading,\n      cartItems: cartItems,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"section\", {\n      id: \"homepageCenter\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"searchContainer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"search\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      id: \"searchBar\",\n      \"data-testid\": \"query-input\",\n      name: \"userSearchedItem\",\n      value: userSearchedItem,\n      onChange: this.onInputChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: this.handleClick,\n      \"data-testid\": \"query-button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      role: \"img\",\n      \"aria-label\": \"emoji-lupa\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 15\n      }\n    }, \"\\uD83D\\uDD0E\"))), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"productsDisplay\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 11\n      }\n    }, !didSearch ? /*#__PURE__*/React.createElement(\"p\", {\n      \"data-testid\": \"home-initial-message\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 17\n      }\n    }, \"Busque um produto ou escolha uma categoria!\") : results.map((item, index) => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cardContainer1\",\n      key: item.id,\n      \"data-testid\": \"product\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      productId: item.id,\n      title: item.title,\n      thumbnail: item.thumbnail,\n      price: item.price,\n      address: item.address,\n      productIndex: index,\n      addToCart: this.addToCart,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 19\n      }\n    })))), /*#__PURE__*/React.createElement(\"aside\", {\n      id: \"categoriesContainer1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Categories, {\n      categoryChecked: this.categoryChecked,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 13\n      }\n    }))));\n  }\n\n}\n\nexport default Home;","map":{"version":3,"sources":["/home/joaofelipe/츼rea de Trabalho/frontend-online-store-individual/src/pages/Home.jsx"],"names":["React","getProductsFromCategoryAndQuery","Card","Categories","Header","Home","Component","constructor","handleClick","setState","loading","categoryId","userSearchedItem","state","response","didSearch","results","onInputChange","target","name","formElementValue","type","checked","value","categoryChecked","id","getLocStUserCart","cartItemsFromLocSt","JSON","parse","localStorage","getItem","Array","isArray","cartItems","itemsOnCartCalculator","userCartFromLocSt","quantitiesArray","map","microObj","quantity","total","reduce","result","setItem","stringify","purchaseTVCalculator","totalValuesArray","totalValue","addToCart","objProduct","productId","title","thumbnail","price","address","some","item","prevState","componentDidMount","render","index"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { getProductsFromCategoryAndQuery } from '../services/api';\nimport Card from '../components/Card';\nimport Categories from '../components/Categories';\nimport Header from '../components/Header';\n\nclass Home extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      loading: false,\n      userSearchedItem: '',\n      categoryId: '',\n      results: [],\n      didSearch: false,\n      cartItems: [],\n    };\n  }\n\n  componentDidMount() {\n    this.getLocStUserCart();\n  }\n\n  // componentDidUpdate() {\n  //   this.setLocStUserCart();\n  // }\n\n  handleClick = async () => { // Fun칞칚o que realiza a requisi칞칚o para API getProductsFromCategoryAndQuery(), baseada no termo pesquisado. Ser치 chamada no onClick do bot칚o de pesquisar.\n    this.setState({ loading: true });\n    const { categoryId, userSearchedItem } = this.state;\n\n    const response = await getProductsFromCategoryAndQuery(categoryId, userSearchedItem);\n\n    this.setState({\n      didSearch: true,\n      results: response.results,\n      loading: false,\n    });\n  }\n\n  onInputChange = ({ target }) => { // Fun칞칚o que altera o estado 'userSearchedItem', no momento que o usu치rio realiza uma busca. Ser치 chamada no onChange de #searchBar.\n    const { name } = target;\n    const formElementValue = target.type === 'checkbox' ? target.checked : target.value;\n\n    this.setState({ [name]: formElementValue });\n  }\n\n  categoryChecked = async ({ target }) => { // Fun칞칚o que realiza a requisi칞칚o para API getProductsFromCategoryAndQuery(), baseada na categoria clicada. Ser치 chamada no onChange de cada radio, de cada categoria.\n    const { userSearchedItem } = this.state;\n    this.setState({ loading: true, categoryId: target.id });\n\n    const response = await getProductsFromCategoryAndQuery(target.id, userSearchedItem);\n    this.setState({ results: response.results, didSearch: true, loading: false });\n  }\n\n  getLocStUserCart = () => { // Fun칞칚o que capta os itens do carrinho salvos no local storage, sempre que a p치gina Home for montada. Tal fun칞칚o evita que o carrinho do usu치rio seja restaurado.\n    const cartItemsFromLocSt = JSON.parse(localStorage.getItem('userCart'));\n\n    if (Array.isArray(cartItemsFromLocSt)) { // Caso a key \"userCart\", de local storage, N츾O seja um array vazio...\n      this.setState({ cartItems: cartItemsFromLocSt });\n    }\n  }\n\n  // setLocStUserCart = () => { // Fun칞칚o que atualiza a key \"userCart\", de local storage, sempre que algum estado da p치gina Home for atualizado [componentDidUpdate()].\n  //   const { cartItems } = this.state;\n  //   localStorage.setItem('userCart', JSON.stringify(cartItems));\n  // }\n\n  itemsOnCartCalculator = () => {\n    const userCartFromLocSt = JSON.parse(localStorage.getItem(\"userCart\"));\n\n    const quantitiesArray = userCartFromLocSt.map((microObj) => microObj.quantity);\n\n    const total = quantitiesArray.reduce((result, value) => result + value);\n\n    localStorage.setItem(\"totalItemsOnCart\", JSON.stringify(total));\n  }\n\n  purchaseTVCalculator = () => {\n    const userCartFromLocSt = JSON.parse(localStorage.getItem(\"userCart\"));\n\n    const totalValuesArray = userCartFromLocSt.map((microObj) => microObj.totalValue);\n\n    const total = totalValuesArray.reduce((result, value) => result + value);\n\n    localStorage.setItem(\"purchaseTotalValue\", JSON.stringify(total));\n  }\n\n  addToCart = ({ target }) => { // Fun칞칚o que permite a adi칞칚o de um determinado produto ao carrinho de compras. Ser치 passada para o componente Card, via props, e chamada no OnClick do bot칚o \"Adicionar ao Carrinho\". || OBS: O Id do bot칚o \"Adicionar ao Carrinho\", de cada Card, 칠 igual ao 칤ndice do produto no array results.\n    const { id } = target;\n    const { results, cartItems } = this.state;\n    const objProduct = {\n      productId: results[id].id,\n      title: results[id].title,\n      thumbnail: results[id].thumbnail,\n      price: results[id].price,\n      address: results[id].address,\n      quantity: 1,\n      totalValue: results[id].price,\n    };\n\n    if (!cartItems.some((item) => item.title === objProduct.title)) { // Condicional que evita a adi칞칚o de 2 ou mais produtos iguais ao carrinho.\n      this.setState((prevState) => ({\n        cartItems: [...prevState.cartItems, objProduct],\n      }));\n      localStorage.setItem('userCart', JSON.stringify(cartItems));\n      \n    }\n  }\n\n  render() {\n    const { loading, results, didSearch, userSearchedItem, cartItems } = this.state;\n\n    return (\n      <div id=\"homepage\">\n        <Header loading={loading} cartItems={cartItems}/>\n\n        <section id=\"homepageCenter\">\n          <div id=\"searchContainer\">\n            <label htmlFor=\"search\">\n              <input\n                id=\"searchBar\"\n                data-testid=\"query-input\"\n                name=\"userSearchedItem\"\n                value={ userSearchedItem }\n                onChange={ this.onInputChange }\n              />\n            </label>\n            <button\n              type=\"button\"\n              onClick={ this.handleClick }\n              data-testid=\"query-button\"\n            >\n              <span role=\"img\" aria-label=\"emoji-lupa\">游댍</span>\n            </button>\n          </div>\n          <div id=\"productsDisplay\">\n            { !didSearch\n              ? (\n                <p data-testid=\"home-initial-message\">\n                  Busque um produto ou escolha uma categoria!\n                </p>)\n              : results.map((item, index) => (\n                <div className=\"cardContainer1\" key={ item.id } data-testid=\"product\">\n                  <Card\n                    productId={ item.id }\n                    title={ item.title }\n                    thumbnail={ item.thumbnail }\n                    price={ item.price }\n                    address={ item.address }\n                    productIndex={ index }\n                    addToCart={ this.addToCart }\n                  />\n                </div>\n              ))}\n          </div>\n          <aside id=\"categoriesContainer1\">\n            <Categories categoryChecked={ this.categoryChecked } />\n          </aside>\n        </section>\n      </div>\n    );\n  }\n}\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}